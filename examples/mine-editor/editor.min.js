!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AdvancedTextEditor=t():e.AdvancedTextEditor=t()}(this,()=>(()=>{"use strict";var e={443:(e,t,n)=>{function o(e){e.addButton({icon:'<span style="font-size:18px;">üìù</span>',title:"Export as PDF",onClick:e=>{!function(e){const t=document.createElement("div");t.innerHTML=e.innerHTML,t.querySelectorAll(".editor-page-break").forEach(e=>{const t=document.createElement("div");t.style.pageBreakAfter="always",e.parentNode.replaceChild(t,e)});const n=t.innerHTML,o=window.open("","","width=800,height=600");o.document.write("<html><head><title>Export PDF</title>"),o.document.write('<link rel="stylesheet" href="editor.css">'),o.document.write("</head><body>"+n+"</body></html>"),o.document.close(),o.focus(),setTimeout(()=>o.print(),500)}(e)}})}function l(e){e.addButton({icon:'<span style="font-size:18px;">üìÑ</span>',title:"Export as DOC",onClick:e=>{!function(e){const t=e.innerHTML,n=new Blob(['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40">\n<head><meta charset="utf-8"></head><body>'+t+"</body></html>"],{type:"application/msword"}),o=document.createElement("a");o.href=URL.createObjectURL(n),o.download="document.doc",o.click()}(e)}})}n.r(t),n.d(t,{initExportDOC:()=>l,initExportPDF:()=>o})},514:(e,t,n)=>{function o(e,t){e.addButton({icon:'<span style="font-size:18px;">&lt;/&gt;</span>',title:"Toggle HTML/Normal View",onClick:()=>{!function(e,t){let n=document.getElementById("editor-markup");n?"none"===n.style.display?(n.value=t.innerHTML,n.style.display="block",t.style.display="none",n.focus()):(t.innerHTML=n.value,n.style.display="none",t.style.display="block",t.focus()):(n=document.createElement("textarea"),n.id="editor-markup",n.className="editor",n.style.display="block",n.style.minHeight="320px",n.style.width="100%",n.style.fontFamily="monospace",n.style.fontSize="15px",n.value=t.innerHTML,t.style.display="none",t.parentNode.appendChild(n),n.focus(),n.addEventListener("blur",function(){"none"!==n.style.display&&(t.innerHTML=n.value)}))}(0,t)}})}n.r(t),n.d(t,{initToggleMarkup:()=>o})},610:(e,t,n)=>{function o(e){e.addButton({icon:'<span style="font-size:18px;">üîç</span>',title:"Find & Replace",onClick:e=>{!function(e){let t=document.getElementById("find-replace-dialog");t&&t.remove(),t=document.createElement("div"),t.id="find-replace-dialog",t.style.position="fixed",t.style.top="20%",t.style.left="50%",t.style.transform="translate(-50%, 0)",t.style.background="#fff",t.style.border="1px solid #ccc",t.style.padding="16px",t.style.zIndex=1e4,t.innerHTML='\n    <label>Find: <input type="text" id="find-text"></label><br><br>\n    <label>Replace: <input type="text" id="replace-text"></label><br><br>\n    <button id="find-btn">Find</button>\n    <button id="replace-btn">Replace</button>\n    <button id="replace-all-btn">Replace All</button>\n    <button id="close-find-replace">Close</button>\n    <div id="find-replace-result" style="margin-top:8px;"></div>\n  ',document.body.appendChild(t);const n=t.querySelector("#find-text"),o=t.querySelector("#replace-text"),l=t.querySelector("#find-replace-result");t.querySelector("#close-find-replace").onclick=()=>{e&&e.innerHTML&&(e.innerHTML=e.innerHTML.replace(/<mark>(.*?)<\/mark>/gi,"$1")),t.remove()},t.querySelector("#find-btn").onclick=()=>{const t=n.value;if(!t)return;const o=e.innerHTML,i=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");let r=0;e.innerHTML=o.replace(i,e=>(r++,`<mark>${e}</mark>`)),l.textContent=r+" matches highlighted."},t.querySelector("#replace-btn").onclick=()=>{const e=n.value,t=o.value;if(!e)return;const l=window.getSelection();if(l.rangeCount){const n=l.getRangeAt(0);n&&n.toString().toLowerCase()===e.toLowerCase()&&(n.deleteContents(),n.insertNode(document.createTextNode(t)))}},t.querySelector("#replace-all-btn").onclick=()=>{const t=n.value,i=o.value;if(!t)return;const r=e.innerHTML,a=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");let d=0;e.innerHTML=r.replace(a,e=>(d++,i)),l.textContent=d+" replacements made."}}(e)}})}n.r(t),n.d(t,{initFindReplace:()=>o})},697:(e,t,n)=>{function o(e){e.addButton({icon:'<span style="font-size:18px;">HTML</span>',title:"Export as HTML",onClick:e=>{const t=e.innerHTML,n=new Blob([t],{type:"text/html"}),o=URL.createObjectURL(n),l=document.createElement("a");l.href=o,l.download="document.html",document.body.appendChild(l),l.click(),setTimeout(()=>{document.body.removeChild(l),URL.revokeObjectURL(o)},100)}})}n.r(t),n.d(t,{initExportHTML:()=>o})},698:(e,t,n)=>{n.r(t),n.d(t,{initEmoji:()=>l});var o=n(705);function l(e){e.addButton({icon:'<span style="font-size:18px;">üòä</span>',title:"Insert Emoji",onClick:t=>{(0,o.u)(e,e=>{t.focus(),document.execCommand("insertText",!1,e)})}})}},705:(e,t,n)=>{function o(e,t){document.querySelectorAll(".editor-emoji-picker").forEach(e=>e.remove());const n=document.createElement("div");n.className="editor-emoji-picker",n.style.position="fixed",n.style.top="32%",n.style.left="50%",n.style.transform="translate(-50%, 0)",n.style.background="#fff",n.style.border="1px solid #ccc",n.style.borderRadius="8px",n.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",n.style.padding="14px 18px",n.style.display="flex",n.style.flexWrap="wrap",n.style.gap="10px",n.style.minWidth="220px",n.style.maxWidth="340px";["üòÄ","üòÅ","üòÇ","ü§£","üòÉ","üòÑ","üòÖ","üòÜ","üòâ","üòä","üòç","üòò","üòú","ü§î","üòé","üò≠","üò°","üëç","üôè","üéâ","üî•","üíØ","ü•∞","üòá","üòã","üòè","üòí","üòû","üòî","üò¢","üò©","üò§","üò±","üò≥","ü§ó","ü§©","ü•≥","üò¨","ü§™","üò∑","ü§í","ü§ï","ü§ë","ü§†","üòà","üëª","üíÄ","üëΩ","ü§ñ","üëã","ü§ö","üñêÔ∏è","‚úã","üññ","üëå","ü§å","ü§è","‚úåÔ∏è","ü§û","ü§ü","ü§ò","ü§ô","üëà","üëâ","üëÜ","üñï","üëá","‚òùÔ∏è","üëç","üëé","‚úä","üëä","ü§õ","ü§ú","üëè","üôå","üëê","ü§≤","üí™","ü¶æ","ü¶µ","ü¶∂","üëÇ","üëÉ","üß†","ü¶∑","ü¶¥","üëÄ","üëÅÔ∏è","üëÖ","üëÑ","üíã","ü©∏","üßë‚Äçü¶∞","üßë‚Äçü¶±","üßë‚Äçü¶≥","üßë‚Äçü¶≤","üë∂","üßí","üë¶","üëß","üßë","üë±","üë®","üë©","üßì","üë¥","üëµ","üê∂","üê±","üê≠","üêπ","üê∞","ü¶ä","üêª","üêº","üê®","üêØ","ü¶Å","üêÆ","üê∑","üê∏","üêµ","ü¶Ñ","üêî","üêß","üê¶","üê§","üê£","üê•","ü¶Ü","ü¶Ö","ü¶â","ü¶á","üê∫","üêó","üê¥","ü¶ì","ü¶ç","ü¶ß","üê¢","üêç","ü¶é","ü¶Ç","ü¶Ä","ü¶û","ü¶ê","ü¶ë","üêô","ü¶ï","ü¶ñ","üê°","üê†","üêü","üê¨","üê≥","üêã","ü¶à","üêä","üêÖ","üêÜ","ü¶ì","ü¶ç","ü¶ß","üêò","ü¶õ","ü¶è","üê™","üê´","ü¶í","ü¶ò","ü¶•","ü¶¶","ü¶®","ü¶©","üêÅ","üêÄ","üêá","ü¶î"].forEach(e=>{const o=document.createElement("button");o.textContent=e,o.style.fontSize="20px",o.style.padding="8px 12px",o.style.borderRadius="6px",o.style.border="1px solid #d0d0d0",o.style.background="#f7f8fa",o.style.cursor="pointer",o.onmouseenter=()=>o.style.background="#e9eef6",o.onmouseleave=()=>o.style.background="#f7f8fa",o.onclick=function(){t&&t(e),n.remove()},n.appendChild(o)});const o=document.createElement("button");o.textContent="Close",o.style.marginTop="12px",o.style.padding="6px 18px",o.style.borderRadius="6px",o.style.border="1px solid #d0d0d0",o.style.background="#f7f8fa",o.style.cursor="pointer",o.onclick=()=>n.remove(),n.appendChild(o),document.body.appendChild(n),setTimeout(()=>{document.addEventListener("mousedown",function e(t){n.contains(t.target)||(n.remove(),document.removeEventListener("mousedown",e))})},10)}n.d(t,{u:()=>o})},966:(e,t,n)=>{n.d(t,{default:()=>x});const o=[{char:"Œ©",label:"Omega"},{char:"¬©",label:"Copyright"},{char:"¬Æ",label:"Registered"},{char:"‚Ñ¢",label:"Trademark"},{char:"‚úì",label:"Check"},{char:"‚òÖ",label:"Star"},{char:"‚ô•",label:"Heart"},{char:"‚ô¶",label:"Diamond"},{char:"‚ô£",label:"Club"},{char:"‚ô†",label:"Spade"},{char:"‚Üê",label:"Left Arrow"},{char:"‚Üí",label:"Right Arrow"},{char:"‚Üë",label:"Up Arrow"},{char:"‚Üì",label:"Down Arrow"}];function l(e){e.addButton({icon:'<span style="font-size:18px;">Œ©</span>',title:"Insert Special Character",onClick:e=>{!function(e){document.querySelectorAll(".editor-special-char-picker").forEach(e=>e.remove());const t=document.createElement("div");t.className="editor-special-char-picker",t.style.position="fixed",t.style.top="32%",t.style.left="50%",t.style.transform="translate(-50%, 0)",t.style.background="#fff",t.style.border="1px solid #ccc",t.style.borderRadius="8px",t.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",t.style.padding="14px 18px",t.style.display="flex",t.style.flexWrap="wrap",t.style.gap="10px",t.style.minWidth="220px",t.style.maxWidth="340px",o.forEach(n=>{const o=document.createElement("button");o.type="button",o.innerHTML=n.char,o.title=n.label,o.style.fontSize="20px",o.style.padding="8px 12px",o.style.borderRadius="6px",o.style.border="1px solid #d0d0d0",o.style.background="#f7f8fa",o.style.cursor="pointer",o.onmouseenter=()=>o.style.background="#e9eef6",o.onmouseleave=()=>o.style.background="#f7f8fa",o.onclick=function(){if(e.innerHTML&&""!==e.innerHTML.trim()){e.focus();const t=window.getSelection();if(!t.rangeCount||!e.contains(t.anchorNode)){const n=document.createRange();e.lastChild&&1===e.lastChild.nodeType?(n.selectNodeContents(e.lastChild),n.collapse(!1)):(n.selectNodeContents(e),n.collapse(!1)),t.removeAllRanges(),t.addRange(n)}}else{e.innerHTML="<p><br></p>",e.focus();const t=window.getSelection(),n=document.createRange();e.firstChild&&1===e.firstChild.nodeType?n.setStart(e.firstChild,0):n.setStart(e,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n)}document.execCommand("insertText",!1,n.char),t.remove()},t.appendChild(o)});const n=document.createElement("button");n.textContent="Close",n.style.marginTop="12px",n.style.padding="6px 18px",n.style.borderRadius="6px",n.style.border="1px solid #d0d0d0",n.style.background="#f7f8fa",n.style.cursor="pointer",n.onclick=()=>t.remove(),t.appendChild(n),document.body.appendChild(t),setTimeout(()=>{document.addEventListener("mousedown",function e(n){t.contains(n.target)||(t.remove(),document.removeEventListener("mousedown",e))})},10)}(e)}})}function i(e,t,n,{showEmojiPicker:o}){e.innerHTML="",e.addButton=function(n){if("divider"===n.type){const t=document.createElement("span");t.className="toolbar-divider",t.innerHTML="&nbsp;|&nbsp;",e.appendChild(t)}else if("dropdown"===n.type&&Array.isArray(n.options)){const o=document.createElement("select");o.title=n.title,n.options.forEach(e=>{const t=document.createElement("option");t.value=e.value,t.textContent=e.label,o.appendChild(t)}),n.defaultValue&&(o.value=n.defaultValue),o.onchange=function(){n.onClick(t,this.value)},e.appendChild(o)}else{const o=document.createElement("button");o.innerHTML=n.icon,o.title=n.title,o.type="button",o.onclick=function(){n.onClick(t)},e.appendChild(o)}},t.addEventListener("mouseup",a),t.addEventListener("keyup",a),t.addEventListener("focus",a)}let r=null;function a(){const e=window.getSelection();return e.rangeCount>0?(r=e.getRangeAt(0).cloneRange(),r):null}var d=n(705);function s(e,t){try{return document.execCommand(e,!1,t||null)}catch(e){return!1}}function c(e,t=!1){t?document.execCommand("insertHTML",!1,'<hr style="border-top:2px solid #888;">'):document.execCommand("insertHorizontalRule",!1,null),e.focus()}function u(e){const t=prompt("Enter image URL:");t&&(document.execCommand("insertImage",!1,t),e.focus())}function m(e,t){if(!t&&!(t=prompt("Enter line height (e.g. 1, 1.5, 2):")))return;const n=window.getSelection();if(0===n.rangeCount||n.isCollapsed)return void(e.style.lineHeight=t);const o=n.getRangeAt(0);if(!o.collapsed){!function(e){const t=document.createTreeWalker(e.commonAncestorContainer,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return"SPAN"===t.tagName&&t.style.lineHeight&&e.intersectsNode(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),n=[];let o;for(;o=t.nextNode();)n.push(o);n.forEach(t=>{if(e.intersectsNode(t)){const e=t.parentNode;for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}})}(o);const e=document.createElement("span");e.style.lineHeight=t;try{o.surroundContents(e)}catch(t){const n=o.extractContents();e.appendChild(n),o.insertNode(e)}}e.focus()}function p(e){const t=prompt("Enter merge field name:");t&&(document.execCommand("insertText",!1,`{{${t}}}`),e.focus())}function h(e){document.execCommand("insertHTML",!1,'<div class="editor-page-break" tabindex="0" style="border-top:2px dashed #888;margin:18px 0;position:relative;display:flex;align-items:center;justify-content:center;">\n    <span style="flex:1"></span>\n    <span style="background:#fff;padding:0 12px;position:relative;top:-12px;color:#888;font-size:13px;"></span>\n    <button class="editor-page-break-remove" style="position:absolute;top:2px;right:8px;width:22px;height:22px;border:none;background:none;color:#888;font-size:18px;line-height:18px;cursor:pointer;z-index:2;" title="Remove page break">&times;</button>\n  </div><p><br></p>'),e.focus(),setTimeout(()=>{e.querySelectorAll(".editor-page-break-remove").forEach(t=>{t.onclick=function(n){n.preventDefault(),n.stopPropagation();const o=t.closest(".editor-page-break"),l=o.nextSibling;o.remove(),l&&"P"===l.nodeName?l.focus():e.focus()}})},10)}function b(e,t){e.addButton({icon:'<svg width="18" height="18" viewBox="0 0 18 18" style="vertical-align:middle"><rect x="1" y="1" width="16" height="16" rx="2" fill="#fff" stroke="#888" stroke-width="1.5"/><line x1="1" y1="6" x2="17" y2="6" stroke="#888" stroke-width="1"/><line x1="1" y1="12" x2="17" y2="12" stroke="#888" stroke-width="1"/><line x1="6" y1="1" x2="6" y2="17" stroke="#888" stroke-width="1"/><line x1="12" y1="1" x2="12" y2="17" stroke="#888" stroke-width="1"/></svg>',title:"Insert Table",onClick:()=>function(e){let t=document.getElementById("table-dialog");t&&t.remove();t=document.createElement("div"),t.id="table-dialog",t.style.position="fixed",t.style.top="25%",t.style.left="50%",t.style.transform="translate(-50%, 0)",t.style.background="#fff",t.style.border="1px solid #ccc",t.style.padding="18px",t.style.zIndex=1e4,t.innerHTML='\n    <label>Rows: <input type="number" id="table-rows" value="2" min="1" style="width:40px"></label>&nbsp;\n    <label>Columns: <input type="number" id="table-cols" value="2" min="1" style="width:40px"></label><br><br>\n    <label>Border: <input type="number" id="table-border" value="1" min="0" style="width:40px"></label>&nbsp;\n    <label>Width: <input type="text" id="table-width" value="100%" style="width:60px"></label><br><br>\n    <label>Cell Padding: <input type="number" id="table-padding" value="6" min="0" style="width:40px"></label>&nbsp;\n    <label>BG Color: <input type="color" id="table-bg" value="#ffffff"></label><br><br>\n    <label><input type="checkbox" id="table-header"> Heading Row</label><br><br>\n    <button id="table-insert-btn">Insert Table</button>\n    <button id="table-cancel-btn">Cancel</button>\n  ',document.body.appendChild(t),document.getElementById("table-cancel-btn").onclick=()=>t.remove(),document.getElementById("table-insert-btn").onclick=()=>{const n=parseInt(document.getElementById("table-rows").value,10),o=parseInt(document.getElementById("table-cols").value,10),l=parseInt(document.getElementById("table-border").value,10),i=document.getElementById("table-width").value,r=parseInt(document.getElementById("table-padding").value,10),a=document.getElementById("table-bg").value,d=document.getElementById("table-header").checked;if(n>0&&o>0){let t=`<table style="border-collapse:collapse;width:${i};">`;if(d){t+="<tr>";for(let e=0;e<o;e++)t+=`<th style="border:${l}px solid #888;padding:${r}px;background:${a};">Header</th>`;t+="</tr>"}for(let e=0;e<n;e++){t+="<tr>";for(let e=0;e<o;e++)t+=`<td style="border:${l}px solid #888;padding:${r}px;background:${a};">&nbsp;</td>`;t+="</tr>"}t+="</table><br>",e.focus(),document.execCommand("insertHTML",!1,t)}t.remove()}}(t)}),document.addEventListener("click",function(e){document.querySelectorAll(".table-context-menu").forEach(e=>e.remove());let t=e.target.closest("td,th");if(t&&t.closest("table")){const e=t.closest("table"),n=t.getBoundingClientRect(),o=document.createElement("div");o.className="table-context-menu",o.style.left=n.right+8+"px",o.style.top=n.top+"px",o.innerHTML='\n        <button id="table-insert-row">Insert Row Below</button>\n        <button id="table-insert-col">Insert Column Right</button>\n        <button id="table-delete-row">Delete Row</button>\n        <button id="table-delete-col">Delete Column</button>\n        <button id="table-merge-cells">Merge Selected Cells</button>\n        <button id="table-split-cell">Split Cell</button>\n        <button id="table-toggle-header">Toggle Header Row</button>\n        <label>Border: <input type="number" id="table-border-edit" value="1" min="0" style="width:40px"></label>\n        <button id="table-apply-border">Apply Border</button>\n        <button id="table-close-menu">Close</button>\n      ',document.body.appendChild(o),o.querySelector("#table-insert-row").onclick=()=>{const e=t.parentElement,n=e.cloneNode(!0);n.querySelectorAll("td,th").forEach(e=>e.innerHTML="&nbsp;"),e.parentElement.insertBefore(n,e.nextSibling),o.remove()},o.querySelector("#table-insert-col").onclick=()=>{const n=Array.from(t.parentElement.children).indexOf(t);Array.from(e.rows).forEach(e=>{e.insertCell(n+1).innerHTML="&nbsp;"}),o.remove()},o.querySelector("#table-delete-row").onclick=()=>{t.parentElement.remove(),o.remove()},o.querySelector("#table-delete-col").onclick=()=>{const n=Array.from(t.parentElement.children).indexOf(t);Array.from(e.rows).forEach(e=>{e.children[n]&&e.deleteCell(n)}),o.remove()},o.querySelector("#table-merge-cells").onclick=()=>{t.nextElementSibling&&(t.colSpan=(t.colSpan||1)+(t.nextElementSibling.colSpan||1),t.nextElementSibling.remove()),o.remove()},o.querySelector("#table-split-cell").onclick=()=>{if(t.colSpan&&t.colSpan>1){for(let e=1;e<t.colSpan;e++){const e=t.cloneNode(!0);e.colSpan=1,t.parentElement.insertBefore(e,t.nextSibling)}t.colSpan=1}o.remove()},o.querySelector("#table-toggle-header").onclick=()=>{const t=e.rows[0];t&&Array.from(t.children).forEach(e=>{if("TH"===e.tagName){const t=document.createElement("td");t.innerHTML=e.innerHTML,t.style.cssText=e.style.cssText,e.parentElement.replaceChild(t,e)}else{const t=document.createElement("th");t.innerHTML=e.innerHTML,t.style.cssText=e.style.cssText,e.parentElement.replaceChild(t,e)}}),o.remove()},o.querySelector("#table-apply-border").onclick=()=>{const t=o.querySelector("#table-border-edit").value;Array.from(e.querySelectorAll("td,th")).forEach(e=>{e.style.border=t+"px solid #888"}),o.remove()},o.querySelector("#table-close-menu").onclick=()=>o.remove(),o.onclick=e=>e.stopPropagation()}})}function f(e){function t(e,t,n){document.querySelectorAll(".editor-color-picker").forEach(e=>e.remove());const o=document.createElement("input");o.type="color",o.className="editor-color-picker",o.id="editor-color-picker-"+e,o.style.position="absolute",o.style.zIndex=1e3;let l=n&&n.target?n.target:null;if(l){const e=l.getBoundingClientRect();o.style.left=e.left+"px",o.style.top=e.bottom+4+"px"}else if(t){t.getBoundingClientRect();o.style.left="50%",o.style.top="40px"}else alert("Color picker opened at center"),o.style.left="50%",o.style.top="40px";document.body.appendChild(o),o.oninput=function(){document.execCommand(e,!1,this.value),t.focus()},setTimeout(()=>{document.addEventListener("mousedown",function e(t){o.contains(t.target)||l&&l.contains(t.target)||(o.remove(),document.removeEventListener("mousedown",e))})},10),o.click()}e.addButton({icon:"B",title:"Bold",onClick:e=>{document.execCommand("bold"),e.focus()}}),e.addButton({icon:"I",title:"Italic",onClick:e=>{document.execCommand("italic"),e.focus()}}),e.addButton({icon:"U",title:"Underline",onClick:e=>{document.execCommand("underline"),e.focus()}}),e.addButton({icon:"S",title:"Strikethrough",onClick:e=>{document.execCommand("strikeThrough"),e.focus()}}),e.addButton({icon:"A+",title:"Font Size",type:"dropdown",options:[{value:"12",label:"12px"},{value:"14",label:"14px"},{value:"16",label:"16px"},{value:"18",label:"18px"},{value:"20",label:"20px"},{value:"24",label:"24px"},{value:"28",label:"28px"},{value:"30",label:"30px"},{value:"32",label:"32px"},{value:"35",label:"35px"},{value:"38",label:"38px"},{value:"40",label:"40px"},{value:"45",label:"45px"},{value:"50",label:"50px"},{value:"55",label:"55px"}],onClick:(e,t)=>{!function(e,t){const n=window.getSelection();if(0===n.rangeCount||n.isCollapsed){if(n.rangeCount>0){const o=n.getRangeAt(0),l=o.startContainer.nodeType===Node.TEXT_NODE?o.startContainer.parentElement:o.startContainer;l===e?e.style.fontSize=t+"px":l.style.fontSize=t+"px"}else e.style.fontSize=t+"px";return}const o=n.getRangeAt(0);if(!o.collapsed){!function(e){const t=document.createTreeWalker(e.commonAncestorContainer,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return"SPAN"===t.tagName&&t.style.fontSize&&e.intersectsNode(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),n=[];let o;for(;o=t.nextNode();)n.push(o);n.forEach(t=>{if(e.intersectsNode(t)){const e=t.parentNode;for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}})}(o);const l=document.createElement("span");l.style.fontSize=t+"px";try{if(o.startContainer===o.endContainer)o.surroundContents(l);else{const e=o.extractContents();l.appendChild(e),o.insertNode(l)}o.selectNodeContents(l),n.removeAllRanges(),n.addRange(o)}catch(n){document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,"7"),setTimeout(()=>{e.querySelectorAll('font[size="7"]').forEach(e=>{const n=document.createElement("span");n.style.fontSize=t+"px",n.innerHTML=e.innerHTML,e.parentNode.replaceChild(n,e)})},10)}}}(e,t),e.focus()}}),e.addButton({icon:"LH",title:"Line Height",type:"dropdown",options:[{value:"1",label:"1"},{value:"1.15",label:"1.15"},{value:"1.5",label:"1.5"},{value:"2",label:"2"},{value:"2.5",label:"2.5"},{value:"3",label:"3"}],onClick:(e,t)=>{!function(e,t){const n=window.getSelection();if(0===n.rangeCount||n.isCollapsed)return void(e.style.lineHeight=t);const o=n.getRangeAt(0);if(!o.collapsed){!function(e){const t=document.createTreeWalker(e.commonAncestorContainer,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return"SPAN"===t.tagName&&t.style.lineHeight&&e.intersectsNode(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),n=[];let o;for(;o=t.nextNode();)n.push(o);n.forEach(t=>{if(e.intersectsNode(t)){const e=t.parentNode;for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}})}(o);const e=document.createElement("span");e.style.lineHeight=t;try{o.surroundContents(e)}catch(t){const n=o.extractContents();e.appendChild(n),o.insertNode(e)}}}(e,t),e.focus()}}),e.addButton({icon:'<span style="color:#000">A</span>',title:"Text Color",onClick:(e,n,o)=>{t("foreColor",e,o)}}),e.addButton({icon:'<span style="background:#ff0;color:#000">A</span>',title:"Background Color",onClick:(e,n,o)=>{t("hiliteColor",e,o)}}),e.addButton({type:"divider"}),e.addButton({icon:'<span style="display:inline-block;width:18px;text-align:left">L</span>',title:"Align Left",onClick:e=>{document.execCommand("justifyLeft"),e.focus()}}),e.addButton({icon:'<span style="display:inline-block;width:18px;text-align:center">C</span>',title:"Align Center",onClick:e=>{document.execCommand("justifyCenter"),e.focus()}}),e.addButton({icon:'<span style="display:inline-block;width:18px;text-align:right">R</span>',title:"Align Right",onClick:e=>{document.execCommand("justifyRight"),e.focus()}}),e.addButton({icon:'<span style="display:inline-block;width:18px;text-align:justify">J</span>',title:"Justify",onClick:e=>{document.execCommand("justifyFull"),e.focus()}}),e.addButton({type:"divider"})}function y(e,t){const n=document.createElement("span");n.style.display="inline-block",n.style.position="relative",n.style.maxWidth="100%";const o=document.createElement("img");o.src=t,o.className="resizable-image",o.style.maxWidth="100%",o.style.minWidth="40px",o.style.minHeight="40px",o.style.borderRadius="4px",o.style.boxShadow="0 1px 4px rgba(0,0,0,0.07)",o.style.display="block",o.style.width="200px",o.style.height="auto";const l=document.createElement("span");l.style.position="absolute",l.style.right="0",l.style.bottom="0",l.style.width="12px",l.style.height="12px",l.style.background="#60a5fa",l.style.borderRadius="50%",l.style.cursor="nwse-resize",l.style.boxShadow="0 1px 4px rgba(0,0,0,0.12)";let i,r,a,d,s=!1;l.addEventListener("mousedown",function(e){function t(e){if(!s)return;const t=e.clientX-i,n=e.clientY-r;o.style.width=Math.max(40,a+t)+"px",o.style.height=Math.max(40,d+n)+"px"}e.preventDefault(),s=!0,i=e.clientX,r=e.clientY,a=o.offsetWidth,d=o.offsetHeight,document.body.style.userSelect="none",document.addEventListener("mousemove",t),document.addEventListener("mouseup",function e(){s&&(s=!1,document.body.style.userSelect="",document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e))})}),n.appendChild(o),n.appendChild(l),e.focus();const c=window.getSelection();if(c.rangeCount>0){const e=c.getRangeAt(0);e.collapse(!1),e.insertNode(n)}else e.appendChild(n)}e=n.hmd(e);class g{constructor(e,t={}){if(this.elementId=e,this.element="string"==typeof e?document.getElementById(e):e,this.options={height:"400px",theme:"light",placeholder:"Start typing...",toolbar:!0,modules:{codeBlock:!0,findReplace:!0,table:!0,emoji:!0,horizontalLine:!0,imageByLink:!0,lineHeight:!0,mergeFields:!0,pageBreak:!0,specialChar:!0},onChange:null,onFocus:null,onBlur:null,onSelectionChange:null,...t},!this.element)throw new Error(`Element with ID "${e}" not found`);this.modules={},this.toolbar=null,this.editorElement=null,this.toolbarElement=null,this.init()}init(){const e=function(e){let t="string"==typeof e?document.querySelector(e):e;if(!t)throw new Error("Editor root element not found");let n=null;if(t.tagName&&"textarea"===t.tagName.toLowerCase()){n=t,t=document.createElement("div"),n.parentNode.insertBefore(t,n);const e=document.createElement("div");e.className="editor-toolbar",e.id="editor-toolbar";const o=document.createElement("div");return o.className="editor",o.id="editor",o.contentEditable="true",o.innerHTML=n.value,t.appendChild(e),t.appendChild(o),n.style.display="none",i(e,o,0,{showEmojiPicker:d.u}),o.addEventListener("click",()=>o.focus()),o.addEventListener("input",()=>{n.value=o.innerHTML}),{toolbar:e,editor:o,textarea:n,focus:()=>o.focus(),getHTML:()=>o.innerHTML,setHTML:e=>{o.innerHTML=e,n.value=e}}}{const e=document.createElement("div");e.className="editor-toolbar",e.id="editor-toolbar";const n=document.createElement("div");return n.className="editor",n.id="editor",n.contentEditable="true",t.appendChild(e),t.appendChild(n),i(e,n,0,{showEmojiPicker:d.u}),n.addEventListener("click",()=>n.focus()),{toolbar:e,editor:n,focus:()=>n.focus(),getHTML:()=>n.innerHTML,setHTML:e=>n.innerHTML=e}}}(this.element,this.options);this.editorElement=e.editor,this.toolbarElement=e.toolbar,!this.editorElement||this.editorElement.innerHTML&&""!==this.editorElement.innerHTML.trim()||(this.editorElement.innerHTML="<p><br></p>"),this.initializeModules(),this.setupEventListeners(),this.applyTheme()}initializeModules(){const e=this.options.modules;var t;if(!1!==e.undoRedoSelectAll&&((t=this.toolbarElement).addButton({icon:"‚Ü∫",title:"Undo",onClick:e=>{document.execCommand("undo"),e.focus()}}),t.addButton({icon:"‚Üª",title:"Redo",onClick:e=>{document.execCommand("redo"),e.focus()}}),t.addButton({icon:"‚éö",title:"Select All",onClick:e=>{document.execCommand("selectAll"),e.focus()}}),t.addButton({type:"divider"})),!1!==e.textFormatting&&f(this.toolbarElement),!1!==e.fontFamily&&function(e){e.addButton({icon:"A",title:"Font Family",type:"dropdown",options:[{value:"Arial",label:"Arial"},{value:"Times New Roman",label:"Times New Roman"},{value:"Courier New",label:"Courier New"},{value:"Georgia",label:"Georgia"},{value:"Verdana",label:"Verdana"}],onClick:(e,t)=>{document.execCommand("fontName",!1,t),e.focus()}}),e.addButton({type:"divider"})}(this.toolbarElement),!1!==e.lists&&function(e){e.addButton({icon:"‚Ä¢",title:"Bulleted List",onClick:e=>{document.execCommand("insertUnorderedList"),e.focus()}}),e.addButton({icon:"1.",title:"Numbered List",onClick:e=>{document.execCommand("insertOrderedList"),e.focus()}}),e.addButton({icon:"‚Üê",title:"Outdent",onClick:e=>{document.execCommand("outdent"),e.focus()}}),e.addButton({icon:"‚Üí",title:"Indent",onClick:e=>{document.execCommand("indent"),e.focus()}}),e.addButton({type:"divider"})}(this.toolbarElement),!1!==e.textType&&function(e){e.addButton({icon:"T",title:"Text Type",type:"dropdown",options:[{tag:"h1",label:"H1"},{tag:"h2",label:"H2"},{tag:"h3",label:"H3"},{tag:"h4",label:"H4"},{tag:"h5",label:"H5"},{tag:"h6",label:"H6"},{tag:"p",label:"P"}].map(e=>({value:e.tag,label:e.label})),defaultValue:"p",onClick:(e,t)=>{document.execCommand("formatBlock",!1,t),e.focus()}}),e.addButton({type:"divider"})}(this.toolbarElement),!1!==e.links&&function(e){if(e.addButton({icon:'<span style="text-decoration:underline;color:#0074d9">üîó</span>',title:"Add Link to Text",onClick:e=>{const t=prompt("Enter URL to link:");t&&(document.execCommand("createLink",!1,t),setTimeout(()=>{const e=window.getSelection();if(e.rangeCount>0){const t=e.getRangeAt(0);(t.commonAncestorContainer.nodeType===Node.ELEMENT_NODE?t.commonAncestorContainer:t.commonAncestorContainer.parentElement).querySelectorAll("a[href]").forEach(e=>e.setAttribute("target","_blank"))}},0),e.focus())}}),e.addButton({icon:'<span style="color:#0074d9">üåê</span>',title:"Insert Clickable Link",onClick:e=>{const t=prompt("Enter URL to insert:");t&&(document.execCommand("insertHTML",!1,`<a href="${t}" target="_blank">${t}</a>`),e.focus())}}),e&&e.parentElement){const t=e.parentElement.querySelector(".editor");t&&t.addEventListener("click",function(e){"A"===e.target.tagName&&e.target.href&&(window.open(e.target.href,"_blank"),e.preventDefault())})}}(this.toolbarElement),!1!==e.images&&function(e){e.addButton({icon:'<span style="font-size:18px">üñºÔ∏è</span>',title:"Upload Image",onClick:e=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.style.display="none",t.onchange=function(){const n=t.files[0];if(n){const t=new FileReader;t.onload=function(t){y(e,t.target.result)},t.readAsDataURL(n)}},document.body.appendChild(t),t.click(),setTimeout(()=>t.remove(),1e3)}}),e.addButton({icon:'<span style="font-size:18px">üåê</span>',title:"Import Image by Link",onClick:e=>{const t=prompt("Enter image URL:");t&&y(e,t)}}),e.addButton({type:"divider"})}(this.toolbarElement),!1!==e.table&&void 0!==this.toolbarElement&&b(this.toolbarElement,this.editorElement),!1!==e.dividers&&void 0!==this.toolbarElement&&function(e){e.addButton({icon:'<svg width="18" height="18" viewBox="0 0 18 18"><line x1="2" y1="9" x2="16" y2="9" stroke="#888" stroke-width="2"/></svg>',title:"Horizontal Line",onClick:e=>{c(e)}}),e.addButton({icon:'<svg width="18" height="18" viewBox="0 0 18 18"><rect x="2" y="7" width="14" height="4" fill="#888"/></svg>',title:"Divider",onClick:e=>{c(e,!0)}}),e.addButton({icon:'<svg width="18" height="18" viewBox="0 0 18 18"><rect x="8" y="2" width="2" height="14" fill="#888"/><rect x="2" y="8" width="14" height="2" fill="#888"/></svg>',title:"Page Break",onClick:e=>{h(e)}}),e.addButton({type:"divider"})}(this.toolbarElement),!1!==e.specialChar&&void 0!==this.toolbarElement&&l(this.toolbarElement),!1!==e.emoji&&void 0!==this.toolbarElement)try{const{initEmoji:e}=n(698);e(this.toolbarElement)}catch(e){window.initEmoji&&window.initEmoji(this.toolbarElement)}if(e.horizontalLine&&(this.modules.horizontalLine=new c(this)),e.imageByLink&&(this.modules.imageByLink=new u(this)),e.lineHeight&&(this.modules.lineHeight=new m(this)),e.mergeFields&&(this.modules.mergeFields=new p(this)),e.pageBreak&&(this.modules.pageBreak=new h(this)),!1!==e.findReplace&&void 0!==this.toolbarElement)try{const{initFindReplace:e}=n(610);e(this.toolbarElement)}catch(e){window.initFindReplace&&window.initFindReplace(this.toolbarElement)}if(void 0!==this.toolbarElement)try{const{initExportPDF:e,initExportDOC:t}=n(443);e(this.toolbarElement),t(this.toolbarElement)}catch(e){window.initExportPDF&&window.initExportPDF(this.toolbarElement),window.initExportDOC&&window.initExportDOC(this.toolbarElement)}if(void 0!==this.toolbarElement)try{const{initExportHTML:e}=n(697);e(this.toolbarElement)}catch(e){window.initExportHTML&&window.initExportHTML(this.toolbarElement)}if(void 0!==this.toolbarElement&&void 0!==this.editorElement)try{const{initToggleMarkup:e}=n(514);e(this.toolbarElement,this.editorElement)}catch(e){window.initToggleMarkup&&window.initToggleMarkup(this.toolbarElement,this.editorElement)}}setupEventListeners(){this.editorElement&&(this.editorElement.addEventListener("input",()=>{this.options.onChange&&this.options.onChange(this.getContent())}),this.editorElement.addEventListener("focus",()=>{this.options.onFocus&&this.options.onFocus()}),this.editorElement.addEventListener("blur",()=>{this.options.onBlur&&this.options.onBlur()}),document.addEventListener("selectionchange",()=>{this.options.onSelectionChange&&document.activeElement===this.editorElement&&this.options.onSelectionChange(window.getSelection())}))}applyTheme(){this.options.theme&&this.element&&(this.element.classList.remove("editor-theme-light","editor-theme-dark"),this.element.classList.add(`editor-theme-${this.options.theme}`)),this.options.height&&this.editorElement&&(this.editorElement.style.minHeight=this.options.height),this.options.placeholder&&this.editorElement&&this.editorElement.setAttribute("data-placeholder",this.options.placeholder)}setTheme(e){"light"!==e&&"dark"!==e||(this.options.theme=e,this.applyTheme())}getContent(){return this.editorElement?this.editorElement.innerHTML:""}setContent(e){this.editorElement&&(this.editorElement.innerHTML=e,this.options.onChange&&this.options.onChange(e))}focus(){this.editorElement&&this.editorElement.focus()}disable(){this.editorElement&&(this.editorElement.contentEditable=!1,this.editorElement.classList.add("editor-disabled")),this.toolbarElement&&this.toolbarElement.classList.add("toolbar-disabled")}enable(){this.editorElement&&(this.editorElement.contentEditable=!0,this.editorElement.classList.remove("editor-disabled")),this.toolbarElement&&this.toolbarElement.classList.remove("toolbar-disabled")}execCommand(e,t){s(e,t),this.focus()}undo(){this.execCommand("undo")}redo(){this.execCommand("redo")}destroy(){this.editorElement&&(this.editorElement.removeEventListener("input",()=>{}),this.editorElement.removeEventListener("focus",()=>{}),this.editorElement.removeEventListener("blur",()=>{})),Object.keys(this.modules).forEach(e=>{this.modules[e]&&"function"==typeof this.modules[e].destroy&&this.modules[e].destroy()}),this.element&&(this.element.innerHTML="",this.element.classList.remove(`editor-theme-${this.options.theme}`)),this.modules={},this.editorElement=null,this.toolbarElement=null}insertHTML(e){this.execCommand("insertHTML",e)}getSelection(){return window.getSelection()}saveSelection(){const e=this.getSelection();return e.rangeCount>0?e.getRangeAt(0).cloneRange():null}restoreSelection(e){if(e){const t=this.getSelection();t.removeAllRanges();try{t.addRange(e)}catch(e){}}}}e.exports?e.exports=g:"function"==typeof define&&n.amdO?define(function(){return g}):window.MineEditor=g;const x=g}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o](i,i.exports,n),i.loaded=!0,i.exports}n.amdO={},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o=n(966);return o=o.default})());